(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__2x1-R",BreadTop:"BurgerIngredient_BreadTop__179VP",Seeds1:"BurgerIngredient_Seeds1__28BXL",Seeds2:"BurgerIngredient_Seeds2__SGhYq",Meat:"BurgerIngredient_Meat__o92SX",Cheese:"BurgerIngredient_Cheese__3zAEa",Salad:"BurgerIngredient_Salad__1P6D0",Bacon:"BurgerIngredient_Bacon__cqzPE"}},21:function(e,t,a){e.exports={Input:"Input_Input__2rw-g",Label:"Input_Label__ywX6i",InputElement:"Input_InputElement__o1szQ"}},25:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__2EdHh",Open:"SideDrawer_Open__85iz6",Close:"SideDrawer_Close__1I1Qi"}},26:function(e,t,a){e.exports={BuildControl:"BuildControl_BuildControl__2tzry",Label:"BuildControl_Label__JzR3g",Less:"BuildControl_Less__dciH9",More:"BuildControl_More__1fUMJ"}},32:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__1btNo",DesktopOnly:"Toolbar_DesktopOnly__3lbA-"}},33:function(e,t,a){e.exports={NavItem:"NavItem_NavItem__DGE9N",active:"NavItem_active__2NT6N"}},36:function(e,t,a){e.exports={BuildControls:"BuildControls_BuildControls__1XYsQ",OrderButton:"BuildControls_OrderButton__3Ln5B",enable:"BuildControls_enable__1qI7a"}},37:function(e,t,a){e.exports={Button:"Button_Button__3IVEn",Success:"Button_Success__DI6Qd",Danger:"Button_Danger__3iruM"}},46:function(e,t,a){e.exports={Content:"Layout_Content__VpiBD"}},47:function(e,t,a){e.exports={Logo:"Logo_Logo__R5Z9w"}},48:function(e,t,a){e.exports=a.p+"static/media/burger-logo.b8503d26.png"},50:function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__2edyG"}},52:function(e,t,a){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__8P8aO"}},53:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__5LCMp"}},54:function(e,t,a){e.exports={Burger:"Burger_Burger__VTSTt"}},55:function(e,t,a){e.exports={Modal:"Modal_Modal__bOcsq"}},56:function(e,t,a){e.exports={Loader:"Spinner_Loader__s52Py",load1:"Spinner_load1__38S1S"}},57:function(e,t,a){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__2Sodw"}},58:function(e,t,a){e.exports={ContactData:"ContactData_ContactData__2BlBA"}},59:function(e,t,a){e.exports={Order:"Order_Order__1CiH_"}},62:function(e,t,a){e.exports=a(99)},67:function(e,t,a){},9:function(e,t,a){e.exports={Switch:"Auth_Switch__1fMLV",SwitchButton:"Auth_SwitchButton__2mK8-",SwitchSignup:"Auth_SwitchSignup__1G-6k",SwitchSignin:"Auth_SwitchSignin__1Mcu8",SwitchActive:"Auth_SwitchActive__2FUjx",ContactData:"Auth_ContactData__2eO5r",SignUp:"Auth_SignUp__1mYe9",enable:"Auth_enable__2tLRc"}},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(28),o=a.n(i),l=(a(67),a(2)),c=a(3),s=a(5),u=a(4),d=a(6),p=a(46),m=a.n(p),h=a(32),g=a.n(h),b=a(47),f=a.n(b),E=a(48),v=a.n(E),_=function(e){return r.a.createElement("div",{className:f.a.Logo,style:{height:e.height}},r.a.createElement("img",{src:v.a,alt:"My Burger"}))},y=a(33),S=a.n(y),w=a(17),k=function(e){return r.a.createElement("li",{className:S.a.NavItem},r.a.createElement(w.b,{exact:!0,activeClassName:S.a.active,to:e.link},e.children))},I=a(50),O=a.n(I),C=a(7),j=a(15),B=a.n(j),N=a(1),D=function(e){return{type:"auth_success",authData:e}},L=function(e){return{type:"auth_fail",error:e}},T=function(){return localStorage.removeItem("userId"),localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),{type:"logout"}},x=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=r.a.createElement(k,{link:"/auth"},"Sign In"),t=null;return this.props.isLoggedIn&&(t=r.a.createElement(k,{link:"/orders"},"Orders"),e=r.a.createElement(k,{link:"/logout"},"Logout")),r.a.createElement("ul",{className:O.a.NavigationItems},r.a.createElement(k,{link:"/"},"Burger Builder"),t,e)}}]),t}(n.Component),A=Object(C.b)(function(e){return{isLoggedIn:e.auth.isLoggedIn}},function(e){return{onLogout:function(){return e(T())}}})(x),H=a(52),M=a.n(H),P=function(e){return r.a.createElement("div",{onClick:e.drawerToggleClicked,className:M.a.DrawerToggle},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},V=function(e){return r.a.createElement("header",{className:g.a.Toolbar},r.a.createElement(P,{drawerToggleClicked:e.drawerToggleClicked}),r.a.createElement(_,{height:"80%"}),r.a.createElement("nav",{className:g.a.DesktopOnly},r.a.createElement(A,null)))},F=a(25),U=a.n(F),q=a(53),z=a.n(q),R=function(e){return e.show?r.a.createElement("div",{className:z.a.Backdrop,onClick:e.clickBackdrop}):null},Y=function(e){var t=[U.a.SideDrawer,U.a.Close];return e.show&&(t=[U.a.SideDrawer,U.a.Open]),r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{show:e.show,clickBackdrop:e.sideDrawerClicked}),r.a.createElement("div",{className:t.join(" "),onClick:e.sideDrawerClicked},r.a.createElement(_,{height:"11%"}),r.a.createElement("nav",null,r.a.createElement(A,null))))},J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showSideDrawer:!1},a.sideDrawerClosed=function(){a.setState({showSideDrawer:!1})},a.sideDrawerToggleHandler=function(){a.setState(function(e){return{showSideDrawer:!e.showSideDrawer}})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{drawerToggleClicked:this.sideDrawerToggleHandler}),r.a.createElement(Y,{show:this.state.showSideDrawer,sideDrawerClicked:this.sideDrawerClosed}),r.a.createElement("main",{className:m.a.Content},this.props.children))}}]),t}(n.Component),X=a(54),G=a.n(X),Q=a(16),K=a.n(Q),W=function(e){var t=null;switch(e.type){case"bread-bottom":t=r.a.createElement("div",{className:K.a.BreadBottom});break;case"bread-top":t=r.a.createElement("div",{className:K.a.BreadTop},r.a.createElement("div",{className:K.a.Seeds1}),r.a.createElement("div",{className:K.a.Seeds2}));break;case"meat":t=r.a.createElement("div",{className:K.a.Meat});break;case"cheese":t=r.a.createElement("div",{className:K.a.Cheese});break;case"salad":t=r.a.createElement("div",{className:K.a.Salad});break;case"bacon":t=r.a.createElement("div",{className:K.a.Bacon});break;default:t=null}return t},Z=function(e){var t=[];return Object.keys(e.ingredients).forEach(function(a){for(var n=0;n<e.ingredients[a];n++)t.push(r.a.createElement(W,{key:a+n,type:a}))}),r.a.createElement("div",{className:G.a.Burger},r.a.createElement(W,{type:"bread-top"}),t,r.a.createElement(W,{type:"bread-bottom"}))},$=a(36),ee=a.n($),te=a(26),ae=a.n(te),ne=function(e){return r.a.createElement("div",{className:ae.a.BuildControl},r.a.createElement("div",{className:ae.a.Label},e.label),r.a.createElement("button",{className:ae.a.Less,onClick:e.ingredientRemoved,disabled:e.disabled},"Less"),r.a.createElement("button",{className:ae.a.More,onClick:e.ingredientAdded},"More"))},re=[{label:"Salad",type:"salad"},{label:"Meat",type:"meat"},{label:"Cheese",type:"cheese"},{label:"Bacon",type:"bacon"}],ie=function(e){return r.a.createElement("div",{className:ee.a.BuildControls},r.a.createElement("p",null,"Burger Price: ",r.a.createElement("b",null,e.price.toFixed("2"))),re.map(function(t){return r.a.createElement(ne,{disabled:e.disabled[t.type],key:t.label,label:t.label,ingredientAdded:function(){return e.ingredientAdded(t.type)},ingredientRemoved:function(){return e.ingredientRemoved(t.type)}})}),r.a.createElement("button",{onClick:e.clickPurchase,className:ee.a.OrderButton,disabled:4===e.price},"Order Now"))},oe=a(55),le=a.n(oe),ce=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{show:this.props.show,clickBackdrop:this.props.modalClosed}),r.a.createElement("div",{className:le.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(n.Component),se=a(37),ue=a.n(se),de=function(e){return r.a.createElement("button",{onClick:e.clicked,className:[ue.a.Button,ue.a[e.btnType]].join(" ")},e.children)},pe=function(e){var t=Object.keys(e.ingredients),a=[];return t.forEach(function(t){a.push(r.a.createElement("li",{key:t+t},t," : ",e.ingredients[t]))}),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Your Order"),r.a.createElement("p",null,"This is a burger you made worth: ",r.a.createElement("strong",null,"$",e.totalPrice)),r.a.createElement("ul",null,a),r.a.createElement("p",null,"Continue to Check Out?"),r.a.createElement(de,{btnType:"Danger",clicked:e.purchaseCancel},"CANCEL"),r.a.createElement(de,{btnType:"Success",clicked:e.purchaseContinue},"CONTINUE"))},me=a(56),he=a.n(me),ge=function(e){return r.a.createElement("div",{className:he.a.Loader},"Loading...")},be=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={purchasing:!1,loading:!1},a.purchasingHandler=function(){a.props.isLoggedIn?a.setState({purchasing:!0}):a.props.history.push("/auth")},a.purchasingCancelHandler=function(){a.setState({purchasing:!1})},a.purchasingContinueHandler=function(){a.props.onPurchaseInit(),a.props.history.push("/checkout")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.initIngredientsHandler(),this.props.checkAuthState()}},{key:"render",value:function(){var e=Object(N.a)({},this.props.ings);for(var t in e)e[t]=e[t]<=0;var a=null,n=r.a.createElement(ge,null);return this.props.ings&&(n=r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{ingredients:this.props.ings}),r.a.createElement(ie,{isLoggedIn:this.props.isLoggedIn,clickPurchase:this.purchasingHandler,price:this.props.price,disabled:e,ingredientAdded:this.props.addIngredientHandler,ingredientRemoved:this.props.removeIngredientHandler})),a=r.a.createElement(pe,{totalPrice:this.props.price,purchaseCancel:this.purchasingCancelHandler,purchaseContinue:this.purchasingContinueHandler,ingredients:this.props.ings})),r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{show:this.state.purchasing,modalClosed:this.purchasingCancelHandler},a),n)}}]),t}(n.Component),fe=Object(C.b)(function(e){return{ings:e.burgerBuilder.ingredients,price:e.burgerBuilder.totalPrice,isLoggedIn:e.auth.isLoggedIn}},function(e){return{addIngredientHandler:function(t){return e({type:"addIngredient",ingredientName:t})},removeIngredientHandler:function(t){return e({type:"removeIngredient",ingredientName:t})},initIngredientsHandler:function(){return e(function(e){B.a.get("https://aburgerbuilder.firebaseio.com/ingredients.json").then(function(t){e({type:"setIngredients",ingredients:t.data})})})},onPurchaseInit:function(){return e({type:"purchaseInit"})},checkAuthState:function(){return e({type:"checkAuthState"})}}})(be),Ee=a(57),ve=a.n(Ee),_e=function(e){return r.a.createElement("div",{className:ve.a.CheckoutSummary},r.a.createElement("h1",null,"Please enjoy your burger!"),r.a.createElement("div",{style:{width:"100%",margin:"auto"}},r.a.createElement(Z,{ingredients:e.ingredients})),r.a.createElement(de,{btnType:"Danger",clicked:e.checkoutCancelled},"CANCEL"),r.a.createElement(de,{btnType:"Success",clicked:e.checkoutContinued},"CONTINUE"))},ye=a(18),Se=a(58),we=a.n(Se),ke=a(21),Ie=a.n(ke),Oe=function(e){var t=null;switch(e.inputtype){case"input":t=r.a.createElement("input",{className:Ie.a.InputElement,type:e.type,name:e.name,required:e.required,value:e.value,onChange:e.changed});break;case"textarea":t=r.a.createElement("textarea",{className:Ie.a.InputElement,type:e.type,name:e.name,required:e.required,value:e.value,onChange:e.changed});break;case"select":t=r.a.createElement("select",{className:Ie.a.InputElement,value:e.value,onChange:e.changed},e.options.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.displayValue)}));break;default:t=r.a.createElement("input",Object.assign({className:Ie.a.InputElement},e))}return r.a.createElement("div",{className:Ie.a.Input},r.a.createElement("label",{className:Ie.a.Label},e.label),t)},Ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",street:"",zip:"",deliveryMethod:"fastest",loading:!1},a.orderHandler=function(e){e.preventDefault();var t={ingredients:a.props.ings,price:a.props.price,customer:{name:a.state.name,street:a.state.street,zip:a.state.zip,email:a.state.email,deliveryMethod:a.state.deliveryMethod},userId:a.props.userId};a.props.onOrderHandler(t,a.props.token)},a.changedHandler=function(e,t){"name"===t&&a.setState({name:e.target.value}),"email"===t&&a.setState({email:e.target.value}),"street"===t&&a.setState({street:e.target.value}),"zip"===t&&a.setState({zip:e.target.value}),"deliveryMethod"===t&&a.setState({deliveryMethod:e.target.value})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:we.a.ContactData},r.a.createElement("h4",null,"Enter your personal info: "),r.a.createElement("form",{onSubmit:this.orderHandler},r.a.createElement(Oe,{inputtype:"input",type:"text",name:"name",label:"Your Name",required:!0,changed:function(t){e.changedHandler(t,"name")},value:this.state.name}),r.a.createElement(Oe,{inputtype:"input",type:"email",name:"email",label:"Email",required:!0,changed:function(t){e.changedHandler(t,"email")},value:this.state.email}),r.a.createElement(Oe,{inputtype:"input",type:"text",name:"street",label:"Street",required:!0,changed:function(t){e.changedHandler(t,"street")},value:this.state.street}),r.a.createElement(Oe,{inputtype:"input",type:"text",name:"zip",label:"Zip Code",required:!0,changed:function(t){e.changedHandler(t,"zip")},value:this.state.zip}),r.a.createElement(Oe,{inputtype:"select",name:"deliveryMethod",label:"Delivery Method",options:[{value:"fastest",displayValue:"Fastest"},{value:"cheapest",displayValue:"Cheapest"}],changed:function(t){e.changedHandler(t,"deliveryMethod")},value:this.state.deliveryMethod}),r.a.createElement(de,{btnType:"Success"},"Order")))}}]),t}(n.Component),je=Object(C.b)(function(e){return{ings:e.burgerBuilder.ingredients,price:e.burgerBuilder.totalPrice,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId}},function(e){return{onOrderHandler:function(t,a){return e(function(e,t){return function(a){a({type:"startingPurchase"}),B.a.post("/orders.json?auth="+t,e).then(function(t){a(function(e,t){return{type:"purchaseOK",orderId:e,orderData:t}}(t.data,e))}).catch(function(e){a({type:"purchaseFail",error:e})})}}(t,a))}}})(Ce),Be=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).checkoutCancelledHandler=function(){a.props.history.goBack()},a.checkoutContinuedHandler=function(){a.props.history.replace("/checkout/contact-data")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=r.a.createElement(ge,null),t=null;return this.props.ings&&(e=r.a.createElement(_e,{checkoutCancelled:this.checkoutCancelledHandler,checkoutContinued:this.checkoutContinuedHandler,ingredients:this.props.ings})),this.props.purchased&&(t=r.a.createElement(ye.a,{to:"/"})),r.a.createElement("div",null,t,e,r.a.createElement(ye.b,{path:this.props.match.path+"/contact-data",component:je}))}}]),t}(n.Component),Ne=Object(C.b)(function(e){return{ings:e.burgerBuilder.ingredients,purchased:e.order.purchased}})(Be),De=a(59),Le=a.n(De),Te=function(e){var t=e.ingredients,a=e.customer,n=e.price;return r.a.createElement("div",{className:Le.a.Order},r.a.createElement("h3",null,"Hi, ",a.name," !"),r.a.createElement("p",null,"This is your order: "),r.a.createElement("p",null,"Total price is: ",n),r.a.createElement("ul",null,r.a.createElement("li",null,"Bacon: ",t.bacon),r.a.createElement("li",null,"Meat: ",t.meat),r.a.createElement("li",null,"Cheese: ",t.cheese),r.a.createElement("li",null,"Salad: ",t.salad)),r.a.createElement("h3",null,"About the customer:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Email: ",a.email),r.a.createElement("li",null,"Address: ",a.street),r.a.createElement("li",null,"Delivery type: ",a.deliveryMethod)))},xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.onInitOrdersHandler(this.props.userId,this.props.token)}},{key:"render",value:function(){var e=[];return this.props.orders&&this.props.orders.forEach(function(t){e.push(r.a.createElement(Te,{key:t.id,price:t.price,ingredients:t.ingredients,customer:t.customer}))}),e}}]),t}(n.Component),Ae=Object(C.b)(function(e){return{orders:e.order.orders,token:e.auth.token,userId:e.auth.userId}},function(e){return{onInitOrdersHandler:function(t,a){return e(function(e,t){return function(a){var n="?auth="+t+'&orderBy="userId"&equalTo="'+e+'"';B.a.get("/orders.json"+n).then(function(e){var t=[];for(var n in e.data){var r=Object(N.a)({id:n},e.data[n]);t.push(r)}a({type:"fetchOrders",orders:t})}).catch(function(e){console.log(e)})}}(t,a))}}})(xe),He=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return r.a.createElement(ye.a,{to:"/"})}}]),t}(n.Component),Me=Object(C.b)(null,function(e){return{onLogout:function(){return e(T())}}})(He),Pe=a(19),Ve=a(60),Fe=a.n(Ve),Ue=a(9),qe=a.n(Ue),ze=function(e){var t=e.formErrors;return r.a.createElement("div",{className:qe.a.FormErrors},Object.keys(t).map(function(e,a){return t[e].length>0?r.a.createElement("p",{key:a,style:{color:"red"}},e," ",t[e]):""}))},Re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",confirmation:"",formErrors:{name:"",email:"",password:"",confirmation:""},nameValid:!1,emailValid:!1,passwordValid:!1,confirmationValid:!1,signUpFormValid:!1,signInFormValid:!1,isSignup:!0,isSignin:!1},a.handleInputChange=function(e,t){a.setState(Object(Pe.a)({},e.target.name,e.target.value)),a.validateField(t,e.target.value)},a.validateField=function(e,t){var n=a.state.formErrors,r=a.state.nameValid,i=a.state.emailValid,o=a.state.passwordValid,l=a.state.confirmationValid;switch(e){case"name":r=t.length>=3&&t.length<=12,n.name=r?"":" length range should be between 3~12";break;case"email":i=Fe()(t.trim()),n.email=i?"":" is invalid";break;case"password":o=t.length>=6&&t.length<=12,n.password=o?"":" length range should be between 6~12";break;case"confirmation":l=t===a.state.password,n.confirmation=l?"":" not match password!"}var c=r&&i&&o&&l,s=i&&o;a.setState({formErrors:n,nameValid:r,emailValid:i,passwordValid:o,confirmationValid:l,signUpFormValid:c,signInFormValid:s})},a.handleFormSubmit=function(e){e.preventDefault(),a.state.isSignin&&a.props.onSignIn(a.state.email,a.state.password),a.state.isSignup&&a.props.onSignUp(a.state.email,a.state.password)},a.switchSignup=function(){a.setState({isSignin:!1,isSignup:!0})},a.switchSignin=function(){a.setState({isSignin:!0,isSignup:!1})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(Oe,{inputtype:"input",type:"text",name:"name",label:"Your Name",required:!0,changed:function(t){e.handleInputChange(t,"name")},value:this.state.name}),r.a.createElement(Oe,{inputtype:"input",type:"email",name:"email",label:"Email",required:!0,changed:function(t){e.handleInputChange(t,"email")},value:this.state.email}),r.a.createElement(Oe,{inputtype:"input",type:"password",name:"password",label:"Password",required:!0,changed:function(t){e.handleInputChange(t,"password")},value:this.state.password}),r.a.createElement(Oe,{inputtype:"input",type:"password",name:"confirmation",label:"Password Confirmation",required:!0,changed:function(t){e.handleInputChange(t,"confirmation")},value:this.state.confirmation}),r.a.createElement("button",{className:qe.a.SignUp,disabled:!this.state.signUpFormValid},"Sign Up"));this.state.isSignup||(t=r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(Oe,{inputtype:"input",type:"email",name:"email",label:"Email",required:!0,changed:function(t){e.handleInputChange(t,"email")},value:this.state.email}),r.a.createElement(Oe,{inputtype:"input",type:"password",name:"password",label:"Password",required:!0,changed:function(t){e.handleInputChange(t,"password")},value:this.state.password}),r.a.createElement("button",{className:qe.a.SignUp,disabled:!this.state.signInFormValid},"Sign In"))),this.props.loading&&(t=r.a.createElement(ge,null));var a=null;this.props.error&&(a=r.a.createElement("p",null,this.props.error.response.data.error.message));var n=[];n=this.state.isSignup?[qe.a.SwitchButton,qe.a.SwitchSignup,qe.a.SwitchActive]:[qe.a.SwitchButton,qe.a.SwitchSignup];var i=[];i=this.state.isSignin?[qe.a.SwitchButton,qe.a.SwitchSignin,qe.a.SwitchActive]:[qe.a.SwitchButton,qe.a.SwitchSignin];var o=null;return this.props.isLoggedIn&&(o=this.props.buildingBurger?r.a.createElement(ye.a,{to:"/checkout"}):r.a.createElement(ye.a,{to:"/"})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:qe.a.Switch},o,r.a.createElement("button",{onClick:this.switchSignup,className:n.join(" ")},"Sign Up"),r.a.createElement("button",{onClick:this.switchSignin,className:i.join(" ")},"Sign In")),r.a.createElement("div",{className:qe.a.ContactData},r.a.createElement(ze,{formErrors:this.state.formErrors}),t,a))}}]),t}(n.Component),Ye=Object(C.b)(function(e){return{loading:e.auth.loading,token:e.auth.token,userId:e.auth.userId,error:e.auth.error,isLoggedIn:e.auth.isLoggedIn,buildingBurger:e.burgerBuilder.buildingBurger}},function(e){return{onSignIn:function(t,a){return e(function(e,t){var a={email:e,password:t,returnSecureToken:!0};return function(e){e({type:"auth_start"}),B.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyAIOOYgeJMUiRLB9RNp5PfDY87H_rkUlbk",a).then(function(t){localStorage.setItem("userId",t.data.localId),localStorage.setItem("token",t.data.idToken),localStorage.setItem("expirationDate",new Date((new Date).getTime()+1e3*t.data.expiresIn)),e(D(t.data))}).catch(function(t){e(L(t))})}}(t,a))},onSignUp:function(t,a){return e(function(e,t){var a={email:e,password:t,returnSecureToken:!0};return function(e){e({type:"auth_start"}),B.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyAIOOYgeJMUiRLB9RNp5PfDY87H_rkUlbk",a).then(function(t){console.log(t),e(D(t.data))}).catch(function(t){e(L(t))})}}(t,a))}}})(Re),Je=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=r.a.createElement(ye.d,null,r.a.createElement(ye.b,{path:"/",exact:!0,component:fe}),r.a.createElement(ye.b,{path:"/auth",component:Ye}),r.a.createElement(ye.a,{to:"/"}));return this.props.isAuthenticated&&(e=r.a.createElement(ye.d,null,r.a.createElement(ye.b,{path:"/checkout",component:Ne}),r.a.createElement(ye.b,{path:"/",exact:!0,component:fe}),r.a.createElement(ye.b,{path:"/orders",component:Ae}),r.a.createElement(ye.b,{path:"/logout",component:Me}),r.a.createElement(ye.b,{path:"/auth",component:Ye}),r.a.createElement(ye.a,{to:"/"}))),r.a.createElement("div",null,r.a.createElement(J,null,e))}}]),t}(n.Component),Xe=Object(C.b)(function(e){return{isAuthenticated:e.auth.isLoggedIn}})(Je);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=a(61),Qe=a(20),Ke={ingredients:null,totalPrice:4,buildingBurger:!1},We={salad:.5,meat:1.5,cheese:.35,bacon:.85},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addIngredient":return Object(N.a)({},e,{ingredients:Object(N.a)({},e.ingredients,Object(Pe.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1)),buildingBurger:!0,totalPrice:e.totalPrice+We[t.ingredientName]});case"removeIngredient":var a=!0;return e.totalPrice-We[t.ingredientName]===4&&(a=!1),Object(N.a)({},e,{ingredients:Object(N.a)({},e.ingredients,Object(Pe.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1)),buildingBurger:a,totalPrice:e.totalPrice-We[t.ingredientName]});case"setIngredients":return Object(N.a)({},e,{ingredients:t.ingredients,totalPrice:4,buildingBurger:!1});default:return e}},$e={orders:[],loading:!1,purchased:!1},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"purchaseInit":return Object(N.a)({},e,{purchased:!1});case"startingPurchase":return Object(N.a)({},e,{loading:!0});case"purchaseOK":var a=Object(N.a)({},t.orderData,{id:t.orderId});return Object(N.a)({},e,{purchased:!0,loading:!1,orders:e.orders.concat(a)});case"purchaseFail":return Object(N.a)({purchased:!1,loading:!1},e);case"fetchOrders":return Object(N.a)({},e,{orders:t.orders});default:return e}},tt={token:null,userId:null,error:null,loading:!1,isLoggedIn:!1},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth_start":return Object(N.a)({},e,{loading:!0});case"auth_fail":return Object(N.a)({},e,{error:t.error,loading:!1});case"auth_success":return Object(N.a)({},e,{userId:t.authData.localId,token:t.authData.idToken,loading:!1,isLoggedIn:!0});case"logout":return Object(N.a)({},e,{userId:null,token:null,loading:!1,isLoggedIn:!1});case"checkAuthState":var a=localStorage.getItem("expirationDate"),n=new Date;return localStorage.getItem("token")?n>=a?(localStorage.removeItem("userId"),localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),Object(N.a)({},e,{userId:null,token:null,loading:!1,isLoggedIn:!1})):Object(N.a)({},e,{token:localStorage.getItem("token"),userId:localStorage.getItem("userId"),loading:!1,isLoggedIn:!0}):e;default:return e}},nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qe.d,rt=Object(Qe.c)({burgerBuilder:Ze,order:et,auth:at}),it=Object(Qe.e)(rt,nt(Object(Qe.a)(Ge.a)));B.a.defaults.baseURL="https://aburgerbuilder.firebaseio.com/",o.a.render(r.a.createElement(C.a,{store:it},r.a.createElement(w.a,null,r.a.createElement(Xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[62,1,2]]]);
//# sourceMappingURL=main.91a2ff99.chunk.js.map